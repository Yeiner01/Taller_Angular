<div class="container-fluid serie-list">
  <div class="row justify-content-center">
    <div class="col-12 col-lg-10">
      <h1 class="text-center mb-4">TV Series</h1>
      
      <div class="table-responsive">
        <table class="table table-striped table-hover">
          <thead class="table-dark">
            <tr>
              <th scope="col">#</th>
              <th scope="col">Name</th>
              <th scope="col">Channel</th>
              <th scope="col">Seasons</th>
            </tr>
          </thead>
          <tbody>
            @for (serie of series; track serie.id) {
            <tr>
              <td>{{ serie.id }}</td>
              <td>
                <a href="javascript:void(0)" 
                   class="serie-name-link"
                   (click)="selectSerie(serie)">
                  {{ serie.name }}
                </a>
              </td>
              <td>{{ serie.channel }}</td>
              <td>{{ serie.seasons }}</td>
            </tr>
            }
          </tbody>
        </table>
      </div>
      

      <div class="mt-3 p-3 bg-light rounded">
        <p class="mb-0 text-center">
          <strong>Seasons average:</strong> {{ getAverageSeasons() }}
        </p>
      </div>


      @if (selectedSerie) {
      <div class="mt-4 p-4 bg-light rounded serie-details">
        <div class="row">
          <div class="col-md-4 text-center">
            <img [src]="selectedSerie.poster" 
                 [alt]="'Poster of ' + selectedSerie.name" 
                 class="img-fluid rounded shadow-sm serie-poster">
          </div>
          <div class="col-md-8">
            <div class="d-flex justify-content-between align-items-start mb-3">
              <h2 class="serie-title">{{ selectedSerie.name }}</h2>
              <button class="btn btn-sm btn-outline-secondary" 
                      (click)="clearSelection()">
                Ã— Close
              </button>
            </div>
            <p class="serie-description">{{ selectedSerie.description }}</p>
            <div class="serie-meta">
              <p><strong>Channel:</strong> {{ selectedSerie.channel }}</p>
              <p><strong>Seasons:</strong> {{ selectedSerie.seasons }}</p>
              <p>
                <strong>Webpage:</strong> 
                <a [href]="selectedSerie.webpage" 
                   target="_blank" 
                   class="webpage-link">
                  {{ selectedSerie.webpage }}
                </a>
              </p>
            </div>
          </div>
        </div>
      </div>
      }
    </div>
  </div>
</div>